(function(f){f.fn.waitMe=function(h){return this.each(function(){var g=f(this),u,n,c,p=!1,m="background-color",k="",l="",q,d,b,e,r,t={init:function(){e=f.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:"",source:""},h);r=(new Date).getMilliseconds();q=f('<div class="waitMe" data-waitme_id="'+r+'"></div>');var a="width:"+e.sizeW+";height:"+e.sizeH;switch(e.effect){case"none":c=0;break;case"bounce":c=3;d="";b=a;break;case"rotateplane":c=1;d="";b=a;break;case"stretch":c=5;d="";b=a;break;case"orbit":c=2;d=a;b="";break;case"roundBounce":c=12;d=a;b="";break;case"win8":c=5;p=!0;b=d=a;break;case"win8_linear":c=5;p=!0;d=a;b="";break;case"ios":c=12;d=a;b="";break;case"facebook":c=3;d="";b=a;break;case"rotation":c=1;m="border-color";d="";b=a;break;case"timer":c=2;k="border-color:"+e.color;d=a;b="";break;case"pulse":c=1;m="border-color";d="";b=a;break;case"progressBar":c=1;d="";b=a;break;case"bouncePulse":c=3;d="";b=a;break;case"img":c=1,d="",b=a}""==e.sizeW&&""==e.sizeH&&(d=b="");""!=d&&""!=k&&(k=";"+k);if(0<c){n=f('<div class="waitMe_progress '+e.effect+'"></div>');if("img"==e.effect)l='<img src="'+e.source+'" style="'+b+'">';else for(a=1;a<=c;++a)l=p?l+('<div class="waitMe_progress_elem'+a+'" style="'+b+'"><div style="'+m+":"+e.color+'"></div></div>'):l+('<div class="waitMe_progress_elem'+a+'" style="'+m+":"+e.color+";"+b+'"></div>');n=f('<div class="waitMe_progress '+e.effect+'" style="'+d+k+'">'+l+"</div>")}e.text&&(u=f('<div class="waitMe_text" style="color:'+e.color+'">'+e.text+"</div>"));g.find("> .waitMe")&&g.find("> .waitMe").remove();waitMeDivObj=f('<div class="waitMe_content"></div>');waitMeDivObj.append(n,u);q.append(waitMeDivObj);"HTML"==g[0].tagName&&(g=f("body"));g.addClass("waitMe_container").attr("data-waitme_id",r).append(q);g.find("> .waitMe").css({background:e.bg});g.find(".waitMe_content").css({marginTop:-g.find(".waitMe_content").outerHeight()/2+"px"})},hide:function(){var a=g.attr("data-waitme_id");g.removeClass("waitMe_container").removeAttr("data-waitme_id");g.find('.waitMe[data-waitme_id="'+a+'"]').remove()}};if(t[h])return t[h].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof h||!h)return t.init.apply(this,arguments);f.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})};f(window).load(function(){f("body.waitMe_body").find(".waitMe_container").remove();f("body.waitMe_body").removeClass("waitMe_body")})})(jQuery);